% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/api.R
\name{bias_interaction_report}
\alias{bias_interaction_report}
\title{Build a bias-interaction plot-data bundle (preferred alias)}
\usage{
bias_interaction_report(
  x,
  diagnostics = NULL,
  facet_a = NULL,
  facet_b = NULL,
  interaction_facets = NULL,
  max_abs = 10,
  omit_extreme = TRUE,
  max_iter = 4,
  tol = 0.001,
  top_n = 50,
  abs_t_warn = 2,
  abs_bias_warn = 0.5,
  p_max = 0.05,
  sort_by = c("abs_t", "abs_bias", "prob")
)
}
\arguments{
\item{x}{Output from \code{\link[=estimate_bias]{estimate_bias()}} or \code{\link[=fit_mfrm]{fit_mfrm()}}.}

\item{diagnostics}{Optional output from \code{\link[=diagnose_mfrm]{diagnose_mfrm()}} (used when \code{x} is fit).}

\item{facet_a}{First facet name (required when \code{x} is fit and
\code{interaction_facets} is not supplied).}

\item{facet_b}{Second facet name (required when \code{x} is fit and
\code{interaction_facets} is not supplied).}

\item{interaction_facets}{Character vector of two or more facets.}

\item{max_abs}{Bound for absolute bias size when estimating from fit.}

\item{omit_extreme}{Omit extreme-only elements when estimating from fit.}

\item{max_iter}{Iteration cap for bias estimation when \code{x} is fit.}

\item{tol}{Convergence tolerance for bias estimation when \code{x} is fit.}

\item{top_n}{Maximum number of ranked rows to keep.}

\item{abs_t_warn}{Warning cutoff for absolute t statistics.}

\item{abs_bias_warn}{Warning cutoff for absolute bias size.}

\item{p_max}{Warning cutoff for p-values.}

\item{sort_by}{Ranking key: \code{"abs_t"}, \code{"abs_bias"}, or \code{"prob"}.}
}
\value{
A named list with bias-interaction plotting/report components. Class:
\code{mfrm_bias_interaction}.
}
\description{
Build a bias-interaction plot-data bundle (preferred alias)
}
\details{
Preferred bundle API for interaction-bias diagnostics. The function can:
\itemize{
\item use a precomputed bias object from \code{\link[=estimate_bias]{estimate_bias()}}, or
\item estimate internally from \code{mfrm_fit} + facet specification.
}
}
\section{Interpreting output}{

Focus on ranked rows where multiple criteria converge:
\itemize{
\item large absolute t statistic
\item large absolute bias size
\item small p-value
}

The bundle is optimized for downstream \code{summary()} and
\code{\link[=plot_bias_interaction]{plot_bias_interaction()}} views.
}

\section{Typical workflow}{

\enumerate{
\item Run \code{\link[=estimate_bias]{estimate_bias()}} (or provide \code{mfrm_fit} here).
\item Build \code{bias_interaction_report(...)}.
\item Review \code{summary(out)} and visualize with \code{\link[=plot_bias_interaction]{plot_bias_interaction()}}.
}
}

\examples{
toy <- expand.grid(
  Person = paste0("P", 1:4),
  Rater = paste0("R", 1:2),
  Criterion = c("Content", "Organization", "Language"),
  stringsAsFactors = FALSE
)
toy$Score <- (
  as.integer(factor(toy$Person)) +
  2 * as.integer(factor(toy$Rater)) +
  as.integer(factor(toy$Criterion))
) \%\% 3
fit <- fit_mfrm(toy, "Person", c("Rater", "Criterion"), "Score", method = "JML", maxit = 25)
diag <- diagnose_mfrm(fit, residual_pca = "none")
bias <- estimate_bias(fit, diag, facet_a = "Rater", facet_b = "Criterion", max_iter = 2)
out <- bias_interaction_report(bias, top_n = 10)
summary(out)
p_bi <- plot(out, draw = FALSE)
class(p_bi)
}
\seealso{
\code{\link[=estimate_bias]{estimate_bias()}}, \code{\link[=build_fixed_reports]{build_fixed_reports()}}, \code{\link[=plot_bias_interaction]{plot_bias_interaction()}}
}
