% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/api.R
\name{build_fixed_reports}
\alias{build_fixed_reports}
\title{Build FACETS-style fixed-width text reports}
\usage{
build_fixed_reports(
  bias_results,
  target_facet = NULL,
  branch = c("facets", "original")
)
}
\arguments{
\item{bias_results}{Output from \code{\link[=estimate_bias]{estimate_bias()}}.}

\item{target_facet}{Optional target facet for pairwise contrast table.}

\item{branch}{Output branch:
\code{"facets"} keeps FACETS-like fixed-width text;
\code{"original"} returns compact sectioned fixed-width text for internal reporting.}
}
\value{
A named list with:
\itemize{
\item \code{bias_fixed}: fixed-width interaction table text
\item \code{pairwise_fixed}: fixed-width pairwise contrast text
\item \code{pairwise_table}: underlying pairwise data.frame
}
}
\description{
Build FACETS-style fixed-width text reports
}
\details{
This function generates plain-text, fixed-width output intended to be read in
console/log environments or exported into text reports.

The pairwise section (Table 14 style) is only generated for 2-way bias runs.
For higher-order interactions (\code{interaction_facets} length >= 3), the function
returns the bias table text and a note explaining why pairwise contrasts were
skipped.
}
\section{Interpreting output}{

\itemize{
\item \code{bias_fixed}: fixed-width table of interaction effects.
\item \code{pairwise_fixed}: pairwise contrast text (2-way only).
\item \code{pairwise_table}: machine-readable contrast table.
\item \code{interaction_label}: facets used for the bias run.
}
}

\section{Typical workflow}{

\enumerate{
\item Run \code{\link[=estimate_bias]{estimate_bias()}}.
\item Build text bundle with \code{build_fixed_reports(...)}.
\item Use \code{summary()}/\code{plot()} for quick checks, then export text blocks.
}
}

\examples{
toy <- expand.grid(
  Person = paste0("P", 1:4),
  Rater = paste0("R", 1:2),
  Criterion = c("Content", "Organization", "Language"),
  stringsAsFactors = FALSE
)
toy$Score <- (
  as.integer(factor(toy$Person)) +
  2 * as.integer(factor(toy$Rater)) +
  as.integer(factor(toy$Criterion))
) \%\% 3
fit <- fit_mfrm(toy, "Person", c("Rater", "Criterion"), "Score", method = "JML", maxit = 25)
diag <- diagnose_mfrm(fit, residual_pca = "none")
bias <- estimate_bias(fit, diag, facet_a = "Rater", facet_b = "Criterion", max_iter = 2)
fixed <- build_fixed_reports(bias)
fixed_original <- build_fixed_reports(bias, branch = "original")
summary(fixed)
p <- plot(fixed, draw = FALSE)
p2 <- plot(fixed, type = "pvalue", draw = FALSE)
if (interactive()) {
  plot(
    fixed,
    type = "contrast",
    draw = TRUE,
    main = "Pairwise Contrasts (Customized)",
    palette = c(pos = "#1b9e77", neg = "#d95f02"),
    label_angle = 45
  )
}
}
\seealso{
\code{\link[=estimate_bias]{estimate_bias()}}, \code{\link[=build_apa_outputs]{build_apa_outputs()}}
}
