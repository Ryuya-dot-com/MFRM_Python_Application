% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/api.R
\name{make_anchor_table}
\alias{make_anchor_table}
\title{Build an anchor table from fitted estimates}
\usage{
make_anchor_table(fit, facets = NULL, include_person = FALSE, digits = 6)
}
\arguments{
\item{fit}{Output from \code{\link[=fit_mfrm]{fit_mfrm()}}.}

\item{facets}{Optional subset of facets to include.}

\item{include_person}{Include person estimates as anchors.}

\item{digits}{Rounding digits for anchor values.}
}
\value{
A data.frame with \code{Facet}, \code{Level}, and \code{Anchor}.
}
\description{
Build an anchor table from fitted estimates
}
\details{
This helper supports FACETS-style linking workflows:
estimate one run, export stable reference levels, and reuse them as anchors
in subsequent calibrations.
}
\section{Interpreting output}{

\itemize{
\item \code{Facet}: facet name to be anchored in later runs.
\item \code{Level}: specific element/level name inside that facet.
\item \code{Anchor}: fixed logit value (rounded by \code{digits}).
}
}

\section{Typical workflow}{

\enumerate{
\item Fit a reference run with \code{\link[=fit_mfrm]{fit_mfrm()}}.
\item Export anchors with \code{make_anchor_table(fit)}.
\item Pass selected rows back into \code{fit_mfrm(..., anchors = ...)}.
}
}

\examples{
toy <- expand.grid(
  Person = paste0("P", 1:4),
  Rater = paste0("R", 1:2),
  Criterion = c("Content", "Organization", "Language"),
  stringsAsFactors = FALSE
)
toy$Score <- (
  as.integer(factor(toy$Person)) +
  2 * as.integer(factor(toy$Rater)) +
  as.integer(factor(toy$Criterion))
) \%\% 3
fit <- fit_mfrm(toy, "Person", c("Rater", "Criterion"), "Score", method = "JML", maxit = 25)
anchors_tbl <- make_anchor_table(fit)
head(anchors_tbl)
summary(anchors_tbl$Anchor)
}
\seealso{
\code{\link[=fit_mfrm]{fit_mfrm()}}, \code{\link[=audit_mfrm_anchors]{audit_mfrm_anchors()}}
}
