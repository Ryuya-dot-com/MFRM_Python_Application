% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/api.R
\name{plot_bias_interaction}
\alias{plot_bias_interaction}
\title{Plot bias interaction diagnostics (preferred alias)}
\usage{
plot_bias_interaction(
  x,
  plot = c("scatter", "ranked", "abs_t_hist", "facet_profile"),
  diagnostics = NULL,
  facet_a = NULL,
  facet_b = NULL,
  interaction_facets = NULL,
  top_n = 40,
  abs_t_warn = 2,
  abs_bias_warn = 0.5,
  p_max = 0.05,
  sort_by = c("abs_t", "abs_bias", "prob"),
  main = NULL,
  palette = NULL,
  label_angle = 45,
  draw = TRUE
)
}
\arguments{
\item{x}{Output from \code{\link[=estimate_bias]{estimate_bias()}} or \code{\link[=fit_mfrm]{fit_mfrm()}}.}

\item{plot}{Plot type: \code{"scatter"}, \code{"ranked"}, \code{"abs_t_hist"},
or \code{"facet_profile"}.}

\item{diagnostics}{Optional output from \code{\link[=diagnose_mfrm]{diagnose_mfrm()}} (used when \code{x} is fit).}

\item{facet_a}{First facet name (required when \code{x} is fit and
\code{interaction_facets} is not supplied).}

\item{facet_b}{Second facet name (required when \code{x} is fit and
\code{interaction_facets} is not supplied).}

\item{interaction_facets}{Character vector of two or more facets.}

\item{top_n}{Maximum number of ranked rows to keep.}

\item{abs_t_warn}{Warning cutoff for absolute t statistics.}

\item{abs_bias_warn}{Warning cutoff for absolute bias size.}

\item{p_max}{Warning cutoff for p-values.}

\item{sort_by}{Ranking key: \code{"abs_t"}, \code{"abs_bias"}, or \code{"prob"}.}

\item{main}{Optional plot title override.}

\item{palette}{Optional named color overrides (\code{normal}, \code{flag}, \code{hist},
\code{profile}).}

\item{label_angle}{Label angle hint for ranked/profile labels.}

\item{draw}{If \code{TRUE}, draw with base graphics.}
}
\value{
A plotting-data object of class \code{mfrm_plot_data}.
}
\description{
Plot bias interaction diagnostics (preferred alias)
}
\details{
Visualization front-end for \code{\link[=bias_interaction_report]{bias_interaction_report()}} with multiple views.
}
\section{Plot types}{

\describe{
\item{\code{"scatter"} (default)}{Scatter plot of bias size (x) vs
t-statistic (y).  Points colored by flag status.  Dashed reference
lines at \code{abs_bias_warn} and \code{abs_t_warn}.  Use for overall triage
of interaction effects.}
\item{\code{"ranked"}}{Ranked bar chart of top \code{top_n} interactions sorted
by \code{sort_by} criterion (absolute t, absolute bias, or probability).
Bars colored red for flagged cells.}
\item{\code{"abs_t_hist"}}{Histogram of absolute t-statistics across all
interaction cells.  Dashed reference line at \code{abs_t_warn}.  Use for
assessing the overall distribution of interaction effect sizes.}
\item{\code{"facet_profile"}}{Per-facet-level aggregation showing mean
absolute bias and flag rate.  Useful for identifying which
individual facet levels drive systematic interaction patterns.}
}
}

\section{Interpreting output}{

Start with \code{"scatter"} or \code{"ranked"} for triage, then confirm pattern shape
using \code{"abs_t_hist"} and \code{"facet_profile"}.

Consistent flags across multiple views are stronger evidence of systematic
interaction bias than a single extreme row.
}

\section{Typical workflow}{

\enumerate{
\item Estimate bias with \code{\link[=estimate_bias]{estimate_bias()}} or pass \code{mfrm_fit} directly.
\item Plot with \code{plot = "ranked"} for top interactions.
\item Cross-check using \code{plot = "scatter"} and \code{plot = "facet_profile"}.
}
}

\examples{
toy <- expand.grid(
  Person = paste0("P", 1:4),
  Rater = paste0("R", 1:2),
  Criterion = c("Content", "Organization", "Language"),
  stringsAsFactors = FALSE
)
toy$Score <- (
  as.integer(factor(toy$Person)) +
  2 * as.integer(factor(toy$Rater)) +
  as.integer(factor(toy$Criterion))
) \%\% 3
fit <- fit_mfrm(toy, "Person", c("Rater", "Criterion"), "Score", method = "JML", maxit = 25)
p <- plot_bias_interaction(
  fit,
  diagnostics = diagnose_mfrm(fit, residual_pca = "none"),
  facet_a = "Rater",
  facet_b = "Criterion",
  draw = FALSE
)
}
\seealso{
\code{\link[=bias_interaction_report]{bias_interaction_report()}}, \code{\link[=estimate_bias]{estimate_bias()}}, \code{\link[=plot_displacement]{plot_displacement()}}
}
