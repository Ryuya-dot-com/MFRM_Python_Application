% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/api.R
\name{plot_interrater_agreement}
\alias{plot_interrater_agreement}
\title{Plot inter-rater agreement diagnostics using base R}
\usage{
plot_interrater_agreement(
  x,
  diagnostics = NULL,
  rater_facet = NULL,
  context_facets = NULL,
  exact_warn = 0.5,
  corr_warn = 0.3,
  plot_type = c("exact", "corr", "difference"),
  top_n = 20,
  main = NULL,
  palette = NULL,
  label_angle = 45,
  draw = TRUE
)
}
\arguments{
\item{x}{Output from \code{\link[=fit_mfrm]{fit_mfrm()}} or \code{\link[=interrater_agreement_table]{interrater_agreement_table()}}.}

\item{diagnostics}{Optional output from \code{\link[=diagnose_mfrm]{diagnose_mfrm()}} when \code{x} is \code{mfrm_fit}.}

\item{rater_facet}{Name of the rater facet when \code{x} is \code{mfrm_fit}.}

\item{context_facets}{Optional context facets when \code{x} is \code{mfrm_fit}.}

\item{exact_warn}{Warning threshold for exact agreement.}

\item{corr_warn}{Warning threshold for pairwise correlation.}

\item{plot_type}{\code{"exact"}, \code{"corr"}, or \code{"difference"}.}

\item{top_n}{Maximum pairs displayed for bar-style plots.}

\item{main}{Optional custom plot title.}

\item{palette}{Optional named color overrides (\code{ok}, \code{flag}, \code{expected}).}

\item{label_angle}{X-axis label angle for bar-style plots.}

\item{draw}{If \code{TRUE}, draw with base graphics.}
}
\value{
A plotting-data object of class \code{mfrm_plot_data}.
}
\description{
Plot inter-rater agreement diagnostics using base R
}
\details{
Inter-rater agreement plots summarize pairwise consistency for a chosen
rater facet under matched contexts.
}
\section{Plot types}{

\describe{
\item{\code{"exact"} (default)}{Bar chart of exact agreement proportion by
rater pair.  Expected agreement overlaid as connected circles.
Horizontal reference line at \code{exact_warn}.  Bars colored red when
flagged.}
\item{\code{"corr"}}{Bar chart of pairwise Pearson correlation by rater
pair.  Reference line at \code{corr_warn}.  Ordered by correlation
(lowest first).}
\item{\code{"difference"}}{Scatter plot.  X-axis: mean signed score
difference (Rater1 - Rater2).  Y-axis: mean absolute difference.
Points colored by flag status.  Vertical reference at 0.}
}
}

\section{Interpreting output}{

Pairs below \code{exact_warn} and/or \code{corr_warn} should be prioritized for
calibration review.
}

\section{Typical workflow}{

\enumerate{
\item Select rater facet and run \code{"exact"} view.
\item Confirm with \code{"corr"} view.
\item Use \code{"difference"} to inspect directional disagreement.
}
}

\examples{
toy <- expand.grid(
  Person = paste0("P", 1:4),
  Rater = paste0("R", 1:2),
  Criterion = c("Content", "Organization", "Language"),
  stringsAsFactors = FALSE
)
toy$Score <- (
  as.integer(factor(toy$Person)) +
  2 * as.integer(factor(toy$Rater)) +
  as.integer(factor(toy$Criterion))
) \%\% 3
fit <- fit_mfrm(toy, "Person", c("Rater", "Criterion"), "Score", method = "JML", maxit = 25)
p <- plot_interrater_agreement(fit, rater_facet = "Rater", draw = FALSE)
if (interactive()) {
  plot_interrater_agreement(
    fit,
    rater_facet = "Rater",
    draw = TRUE,
    plot_type = "exact",
    main = "Inter-rater Agreement (Customized)",
    palette = c(ok = "#2b8cbe", flag = "#cb181d"),
    label_angle = 45
  )
}
}
\seealso{
\code{\link[=interrater_agreement_table]{interrater_agreement_table()}}, \code{\link[=plot_facets_chisq]{plot_facets_chisq()}}, \code{\link[=plot_qc_dashboard]{plot_qc_dashboard()}}
}
