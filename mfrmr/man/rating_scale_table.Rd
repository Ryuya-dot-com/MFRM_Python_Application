% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/api.R
\name{rating_scale_table}
\alias{rating_scale_table}
\title{Build a FACETS Table 8.1-style rating-scale report}
\usage{
rating_scale_table(
  fit,
  diagnostics = NULL,
  whexact = FALSE,
  drop_unused = FALSE
)
}
\arguments{
\item{fit}{Output from \code{\link[=fit_mfrm]{fit_mfrm()}}.}

\item{diagnostics}{Optional output from \code{\link[=diagnose_mfrm]{diagnose_mfrm()}}.}

\item{whexact}{Use exact ZSTD transformation for category fit.}

\item{drop_unused}{If \code{TRUE}, remove categories with zero count.}
}
\value{
A named list with:
\itemize{
\item \code{category_table}: category-level counts, expected counts, fit, and ZSTD
\item \code{threshold_table}: model step/threshold estimates
\item \code{summary}: one-row summary (usage and threshold monotonicity)
}
}
\description{
Build a FACETS Table 8.1-style rating-scale report
}
\details{
This helper provides category usage/fit statistics and threshold summaries
in a format aligned with FACETS Table 8.1 style checks.

Typical checks:
\itemize{
\item sparse category usage (\code{Count}, \code{ExpectedCount})
\item category fit (\code{Infit}, \code{Outfit}, \code{ZStd})
\item threshold ordering (\code{threshold_table$Estimate}, \code{GapFromPrev})
}
}
\section{Interpreting output}{

Start with \code{summary}:
\itemize{
\item \code{UsedCategories} close to total \code{Categories} suggests stable category usage.
\item very small \code{MinCategoryCount} indicates potential instability.
\item \code{ThresholdMonotonic = FALSE} indicates disordered thresholds.
}

Then inspect:
\itemize{
\item \code{category_table} for category-level misfit/sparsity.
\item \code{threshold_table} for adjacent-step gaps and ordering.
}
}

\section{Typical workflow}{

\enumerate{
\item Fit model: \code{\link[=fit_mfrm]{fit_mfrm()}}.
\item Build diagnostics: \code{\link[=diagnose_mfrm]{diagnose_mfrm()}}.
\item Run \code{rating_scale_table()} and review \code{summary()}.
\item Use \code{plot()} to visualize category profile quickly.
}
}

\section{Output columns}{

The \code{category_table} data.frame contains:
\describe{
\item{Category}{Score category value.}
\item{Count, Percent}{Observed count and percentage of total.}
\item{AvgPersonMeasure}{Mean person measure for respondents in this
category.}
\item{Infit, Outfit}{Category-level fit statistics.}
\item{InfitZSTD, OutfitZSTD}{Standardized fit values.}
\item{ExpectedCount, DiffCount}{Expected count and observed-expected
difference.}
\item{LowCount}{Logical; \code{TRUE} if count is below minimum threshold.}
\item{InfitFlag, OutfitFlag, ZSTDFlag}{Fit-based warning flags.}
}

The \code{threshold_table} data.frame contains:
\describe{
\item{Step}{Step label (e.g., "1-2", "2-3").}
\item{Estimate}{Estimated threshold/step difficulty (logits).}
\item{GapFromPrev}{Difference from the previous threshold.  Gaps below
1.4 logits may indicate category underuse; gaps above 5.0 may
indicate wide unused regions (Linacre, 2002).}
}
}

\examples{
toy <- expand.grid(
  Person = paste0("P", 1:4),
  Rater = paste0("R", 1:2),
  Criterion = c("Content", "Organization", "Language"),
  stringsAsFactors = FALSE
)
toy$Score <- (
  as.integer(factor(toy$Person)) +
  2 * as.integer(factor(toy$Rater)) +
  as.integer(factor(toy$Criterion))
) \%\% 3
fit <- fit_mfrm(toy, "Person", c("Rater", "Criterion"), "Score", method = "JML", maxit = 25)
t8 <- rating_scale_table(fit)
summary(t8)
summary(t8)$summary
p_t8 <- plot(t8, draw = FALSE)
class(p_t8)
}
\seealso{
\code{\link[=diagnose_mfrm]{diagnose_mfrm()}}, \code{\link[=measurable_summary_table]{measurable_summary_table()}}, \code{\link[=plot.mfrm_fit]{plot.mfrm_fit()}}
}
